# GPT-5 Happy Hour Discovery System - Lambda Dependencies
# Optimized for performance and minimal cold start time

# ============================================================================
# CORE DEPENDENCIES
# ============================================================================

# Database & API
psycopg2-binary==2.9.7          # PostgreSQL adapter (binary for Lambda)
supabase==1.0.4                 # Supabase client
httpx==0.24.1                   # Async HTTP client (faster than requests)
pydantic==2.4.2                 # Data validation and serialization

# AI & LLM Integration  
openai==1.3.3                   # OpenAI GPT-4o/GPT-5 API
anthropic==0.3.11               # Claude API client

# ============================================================================
# WEB SCRAPING & CONTENT EXTRACTION
# ============================================================================

# HTML Processing
beautifulsoup4==4.12.2          # HTML parsing
lxml==4.9.3                     # Fast XML/HTML parser
selectolax==0.3.17              # Even faster HTML parser for simple tasks

# HTTP & Web
aiohttp==3.8.6                  # Async HTTP client
playwright==1.39.0              # Browser automation (large - consider alternatives)
selenium==4.15.0                # Alternative to Playwright (smaller)
fake-useragent==1.4.0           # Randomized user agents

# Content Processing
python-dateutil==2.8.2          # Date parsing
pytz==2023.3                    # Timezone handling
regex==2023.8.8                 # Enhanced regex support
phonenumbers==8.13.23           # Phone number parsing and validation

# ============================================================================
# EXTERNAL API CLIENTS  
# ============================================================================

# Google Services
googlemaps==4.10.0              # Google Places API client
google-api-python-client==2.103.0  # Generic Google API client

# Social & Review Platforms
# yelp-fusion==1.0.7            # Yelp API (if available)
tweepy==4.14.0                  # Twitter API (for social signals)
instagrapi==2.0.0               # Instagram API (unofficial)
facebook-sdk==3.1.0             # Facebook Graph API

# Voice & Communication
twilio==8.9.1                   # Phone calls and SMS

# ============================================================================
# DATA PROCESSING & MACHINE LEARNING
# ============================================================================

# Text Processing
nltk==3.8.1                     # Natural language processing
spacy==3.7.2                    # Advanced NLP (download models separately)
textstat==0.7.3                 # Text statistics and readability

# Image Processing (for OCR)
Pillow==10.0.1                  # Image manipulation
pytesseract==0.3.10             # OCR (requires tesseract binary)
easyocr==1.7.0                  # Alternative OCR library

# Data Science
numpy==1.24.4                   # Numerical computing
pandas==2.1.1                   # Data manipulation (use sparingly in Lambda)
scikit-learn==1.3.1             # Machine learning (for confidence calibration)

# ============================================================================
# UTILITIES & HELPERS
# ============================================================================

# Configuration & Environment
python-dotenv==1.0.0            # Environment variable loading
pydantic-settings==2.0.3        # Settings management

# Logging & Monitoring
structlog==23.1.0               # Structured logging
boto3==1.29.7                   # AWS SDK (usually included in Lambda)
botocore==1.32.7                # AWS core (usually included)

# JSON & Data Formats
orjson==3.9.7                   # Fast JSON serialization
msgpack==1.0.7                  # Efficient serialization
python-multipart==0.0.6         # File upload handling

# Caching & Storage
redis==5.0.1                    # Redis client (if using Redis)
diskcache==5.6.3                # Disk-based caching

# ============================================================================
# TESTING & DEVELOPMENT (exclude from production)
# ============================================================================

# pytest==7.4.2                 # Testing framework
# pytest-asyncio==0.21.1        # Async test support
# httpx-mock==0.10.0             # HTTP mocking for tests
# factory-boy==3.3.0             # Test data generation

# ============================================================================
# NOTES
# ============================================================================

# Lambda Layer Size Considerations:
# - Uncompressed layer size limit: 250 MB
# - Total deployment package: 50 MB (zipped)
# - Some packages like Playwright are very large (100MB+)
# - Consider using pre-built layers or lighter alternatives

# Optimization Tips:
# 1. Use binary packages when available (e.g., psycopg2-binary)
# 2. Exclude unnecessary dependencies in production
# 3. Use Lambda layers for heavy dependencies
# 4. Consider using container images for very large packages

# Alternative Lightweight Options:
# - httpx instead of requests (async + faster)
# - selectolax instead of BeautifulSoup (faster parsing)
# - orjson instead of json (faster serialization)
# - async libraries where possible to handle multiple requests